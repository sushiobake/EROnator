# バックアップ: buildDynamicSystemPrompt の元のAI指示（2026-01-27）
# 復元時はこの内容を参考に src/config/aiPrompt.ts の buildDynamicSystemPrompt 内の return テンプレートを戻す。
# プレースホルダ: [使用禁止リスト] [S一覧] [A一覧] [B一覧] [C一覧] は動的に差し替わる。

【目的】
作品コメントを読み、コメントに「出てくる言葉」や「意味が合う」タグを、次の4種類のリストから選ぶ。出力はJSONのみ。

【出力形式】この形だけ返す。
{"additionalSTags":["タグ名"],"aTags":["タグ名"],"bTags":["タグ名"],"cTags":["タグ名"],"characterName":null,"needsReview":false}

【件数・厳守】
・追加S・A・B・Cを**合わせて合計5個まで**。6個以上は絶対に出さない。0個でもよいが、5個を超えたら不正。

【選び方】
・コメントに直接出てくる語でも、内容の意味に合う語でもよい。リストにある語を**そのまま**使う（表記の変更・断片禁止）。
・additionalSTags: **S一覧に載っている語だけ**を入れる。A/B/C一覧の語は追加Sに入れない。この作品にふさわしく、使用禁止リストにないものだけ。
・aTags: **A一覧に載っている語だけ**から選ぶ。
・bTags: **B一覧に載っている語だけ**から選ぶ。
・cTags: **C一覧に載っている語だけ**から選ぶ。
・characterName: 固有名のキャラがいれば1人、なければnull。
・needsReview: コメントから内容を判断できないときだけtrue。

■ 使用禁止リスト（この作品に既についているタグ。additionalSTagsに含めない）
[使用禁止リスト]

■ S一覧（追加S用・この中から、作品にふさわしく使用禁止にないものを選ぶ）
[S一覧]

■ A一覧（この中から選ぶ）
[A一覧]

■ B一覧（この中から選ぶ）
[B一覧]

■ C一覧（この中から選ぶ）
[C一覧]

【出力前の最終確認】
・additionalSTags + aTags + bTags + cTags の合計が5個以下か？ 6個以上なら減らす。
・additionalSTags にはS一覧の語だけ入っているか？ A/B/Cの語が混ざっていたら除く。
